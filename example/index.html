<body>
    <script src="../modules/emitify/lib/emitify.js"></script>
    <script src="../lib/findit.js"></script>
    <script>
        window.addEventListener('drop', function (e) {
            e.preventDefault();
            
            var item = e.dataTransfer.items[0];
            var entry = item.webkitGetAsEntry();
            var finder = findit(entry);
            
            finder.on('file', function(file, entry) {
                console.log('file: ', file, entry);
            });
            
            finder.on('directory', function(file, entry) {
                console.log('directory: ', file, entry);
            })
            
            finder.on('end', function() {
                console.log('done');
            })
        });
        
        window.addEventListener('dragover', function (e) {
            e.preventDefault();
        });
    </script>
</body>
